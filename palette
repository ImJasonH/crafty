<!-- TODO: support file drag-and-drop -->
<!-- TODO: support fetching file by URL (requires CORS on the server) -->
<!-- TODO: limit number of colors so that you don't get one pixel of a color -->
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF8">
<title>Image paletter</title>
<style>
* { font-family: Arial, sans-serif; }
div#selected { background-color: white; padding: 5px; border: 1px solid black; }
div#selected-text { white-space: nowrap; }
div#selected-color { border: 1px solid black; }
a { position: fixed; bottom: 10; right: 10; }
</style>
</head>
<body>
  <h3>Select an image</h3>
  <ul>
    <li>...from a local file: <input type="file" id="file" accept="image/*"></input></li>
    <li>...or choose from one of these images:</li>
  </ul>
  <table id="samples"><tr>
    <td><img src="images/rcr.png" /></td>
    <td><img src="images/mario.png" /></td>
    <td><img src="images/megaman.png" /></td>
    <td><img src="images/airman.png" /></td>
    <td><img src="images/cyclops.png" /></td>
    <td><img src="images/storm.png" /></td>
    <td><img src="images/tyson.png" /></td>
    <td><img src="images/cap.png" /></td>
  </tr></table>

  <h3>Select a palette</h3>
  <select id="palette">
    <option value="dmc" selected>DMC thread</option>
    <option value="perler">Perler beads</option>
    <option value="simple">Simple RGB</option>
  </select>

  <input type="checkbox" id="bwpattern" /><label for="bwpattern">Black & white pattern</label>

  <div id="table" style="display: none;">
    <h3>Paletted image</h3>
    <table>
      <tr><td>Original</td><td><img id="orig" /></td></tr>
      <tr><td>Palleted</td><td><canvas id="out" onclick="window.open(this.toDataURL());" /></td></tr>
      <tr><td>Pattern</td><td><canvas id="scaled" onclick="window.open(this.toDataURL());" /></td></tr>
    </table>
    <div id="selected" style="display: none;">
      <div id="selected-text"></div>
      <div id="selected-color">&nbsp;</div>
    </div>
    <h3>Color breakdown</h3>
    <table id="counts"></table>
    <h3>Physical dimensions</h3>
    <div id="dimensions"></div>
  </div>

  <a href="https://github.com/ImJasonH/palette" target="_blank">source on GitHub</a>
</body>
<script src="palette.js"></script>
</html>
